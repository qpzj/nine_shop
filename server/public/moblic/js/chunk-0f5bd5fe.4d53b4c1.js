(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f5bd5fe"],{"0613":function(t,a,e){"use strict";var n=e("8ad6"),s=e.n(n);s.a},"2fce":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAB0UlEQVRYR+2W0U0DMRBEZyqAEugAUgGhAkgFJB1ABaQDoAJCBYQKgAoIHdABUMGikdbI55zv7AtKhMT+5CPnm+fx7pyJHRd3rI+/CWBm+wDOAZy5g0uSt0PcrHbAxZ8AHCWCKwAnJD9rQKoAEvFHAHMX0+8pgGqIYoBE/J7kNN6pmS38WKogagCeARwDeCE5brPZzCR+CEA9MSk5iiKAaHdvAMa5c3aXBCqIBclZH0QvQKl4EKqF6ASoFR8CkQUYKl4L0QpgZhcArgF8ad5JvvedZaYplRXqiT0AM5KalEatAZiZxuvOxdVw6uzBZWadEA0AM1O0PvyWeHQcMcSE5DL8lwKEWR9tuvPUMnfiNc2RFCCkWVh/SfJmsP8AzEy7VUyHaqRoCqCvnCCUdGqcbOqVQpmZ+bNqaDk8jYOsawy1sBXAp+QKgIBVmhJ1uQQa5QDZjVQDeNJ9eKOGCdE3YkVytA0AHY/uAz+7CjaTbBvrrJOCHeLAP8C/A1t1QDfccPUOE6ZcVzquTYEHWDyJygkl4aAc0E1XYZOrGECgSs5c6bq+FlKdY6g//dMsyw9a3jwPL/VkTJ3SEgWVLqit4r0ApXm/yXO9l9JNXl6yducA30ghSjBrBOfqAAAAAElFTkSuQmCC"},"6ab7":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,n=t._self._c||a;return t.goodsInfo?n("div",{staticClass:"detail"},[n("v-header",[t._v("商品详情")]),n("div",{staticClass:"goods-img"},[n("img",{attrs:{alt:t.goodsInfo.name,src:t.$baseUrl+t.goodsInfo.main_img_url}})]),n("div",{ref:"topCart",staticClass:"top-cart-wrapper",class:{animate:t.isShake},on:{click:t.linkToCart}},[n("img",{attrs:{alt:"icon-cart",src:e("ab6f")}}),t.totalCount>0?n("span",{staticClass:"total-count"},[t._v(t._s(t.totalCount))]):t._e()]),n("div",{staticClass:"add-cart-wrapper"},[n("div",{staticClass:"product-counts",on:{click:function(a){t.showPicker=!0}}},[n("span",{staticClass:"select-title"},[t._v("数量")]),n("span",{staticClass:"select-count"},[t._v(t._s(t.count))]),n("van-icon",{staticClass:"select-arrow",attrs:{name:"arrow-down"}})],1),n("div",{staticClass:"middle-border"}),n("div",{staticClass:"add-cart-wrapper",on:{click:t.onAddToCart}},[n("span",{staticClass:"add-cart-text"},[t._v("加入购物车")]),n("i",{staticClass:"icon-cart"}),n("transition",{on:{"after-enter":t.afterFly,"before-enter":t.beforeFly,enter:t.flying,leave:t.leave}},[n("img",{directives:[{name:"show",rawName:"v-show",value:t.isFly,expression:"isFly"}],ref:"smallFlyImg",staticClass:"small-fly-img",attrs:{src:t.$baseUrl+t.goodsInfo.main_img_url,alt:"image"}})])],1)]),n("div",{staticClass:"product-info-box"},[n("div",{staticClass:"stock"},[t._v(t._s(t.goodsInfo.stock>0?"有货":"缺货"))]),n("div",{staticClass:"name"},[t._v(t._s(t.goodsInfo.name))]),n("div",{staticClass:"price"},[t._v("¥ "+t._s(t.goodsInfo.price))])]),n("van-tabs",{staticClass:"tabs-wrapper",attrs:{animated:""},model:{value:t.activeIndex,callback:function(a){t.activeIndex=a},expression:"activeIndex"}},[n("van-tab",{attrs:{title:"商品详情"}},[t._v("商品详情")]),n("van-tab",{attrs:{title:"产品参数"}},[t._v("产品参数")]),n("van-tab",{attrs:{title:"商品评价"}},[t._l(t.user_contentList,function(a,e){return n("van-cell-group",{key:e},[n("van-cell",[n("div",{staticClass:"user"},[n("div",{staticClass:"head_img"},[n("img",{attrs:{src:t.$baseUrl+a.user.headimgurl,alt:""}})]),n("div",{staticClass:"nickname"},[t._v(t._s(a.user.nickname))]),n("div",{staticClass:"stars"},[n("van-rate",{attrs:{size:"12px"},model:{value:a.stars,callback:function(e){t.$set(a,"stars",e)},expression:"item.stars"}})],1),n("div",{staticClass:"creat_time"},[t._v(t._s(a.create_time))])]),n("div",{staticClass:"content"},[n("van-field",{attrs:{rows:"1",autosize:"",type:"textarea"},model:{value:a.content,callback:function(e){t.$set(a,"content",e)},expression:"item.content"}})],1)])],1)}),n("van-pagination",{staticStyle:{margin:"15px"},attrs:{"page-count":t.totalpages,mode:"simple"},on:{change:function(a){return t.turnerPage()}},model:{value:t.currentpage,callback:function(a){t.currentpage=a},expression:"currentpage"}}),n("div",{staticStyle:{margin:"15px"}},[n("van-field",{attrs:{rows:"5",autosize:"",label:"留言",type:"textarea",maxlength:"150",placeholder:"请输入留言","show-word-limit":""},model:{value:t.content,callback:function(a){t.content=a},expression:"content"}})],1),n("van-rate",{model:{value:t.stars,callback:function(a){t.stars=a},expression:"stars"}}),n("br"),n("van-button",{staticStyle:{margin:"15px"},attrs:{type:"info"},on:{click:function(a){return t.addComment()}}},[t._v("提交")])],2)],1),n("van-popup",{attrs:{position:"bottom",type:"card"},model:{value:t.showPicker,callback:function(a){t.showPicker=a},expression:"showPicker"}},[n("van-picker",{attrs:{columns:t.columns,"default-index":0,"show-toolbar":"",title:"请选择数量"},on:{cancel:function(a){t.showPicker=!1},confirm:t.onConfirm}})],1)],1):t._e()},s=[],o=e("cebc"),i=e("2f62"),c=e("df6b"),r={name:"Detail",data:function(){return{goodsInfo:null,count:1,columns:[1,2,3,4,5,6,7,8,9,10],showPicker:!1,isFly:!1,isShake:!1,activeIndex:0,stars:0,content:"",user_contentList:"",totalpages:0,currentpage:1}},components:{vHeader:c["a"]},computed:Object(o["a"])({},Object(i["c"])(["totalCount","userInfo"])),created:function(){this.getProductDetail()},mounted:function(){this.getComment()},methods:Object(o["a"])({linkToCart:function(){this.$router.push({path:"/cart"})},turnerPage:function(){this.getComment()}},Object(i["b"])(["addToCart","deleteGoods","updateGoods"]),{onConfirm:function(t,a){this.$toast("当前值：".concat(t,", 当前索引：").concat(a)),this.count=t,this.showPicker=!1},getProductDetail:function(){var t=this;this.$api.getProductDetail(this.$route.query.id).then(function(a){t.goodsInfo=a.data.data})},onAddToCart:function(){this.isFly=!0,this.$store.dispatch("cart/addToCart",Object.assign({},this.goodsInfo,{count:this.count}))},addComment:function(){var t=this;""==this.content?this.$toast("请正确填写评论！"):0==this.stars?this.$toast("请正确填写星级评价！"):this.$api.CreateComment({user_id:this.userInfo.id,product_id:this.goodsInfo.id,content:this.content,stars:this.stars}).then(function(a){"0"==a.data.code&&(t.content="",t.stars=0,t.getComment())})},getComment:function(){var t=this;this.$api.getComment({product_id:this.$route.query.id,currentpage:this.currentpage}).then(function(a){t.totalpages=Math.ceil(a.data.data.count/4),t.user_contentList=a.data.data.rows})},beforeFly:function(t){t.style.opacity=0,t.style.transformOrigin="center center",t.style.transform="translate(0,0) rotate(0deg) scale(1)"},flying:function(t,a){var e=t.getBoundingClientRect(),n=this.$refs.topCart.getBoundingClientRect(),s=n.right-16-(e.right-40)-4,o=n.top-40-(e.top-16);setTimeout(function(){t.style.opacity=1,t.style.transform="translate(".concat(s,"px,").concat(o,"px)  rotate(350deg) scale(0)"),t.style.transition="all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275)",t.addEventListener("transitionend",a)},20)},afterFly:function(t){t.style.transform="none",t.style.transition="none",t.style.display="none",t.style.opacity=0,this.isFly=!1,this.isShake=!0},leave:function(t,a){var e=this;setTimeout(function(){e.isShake=!1},1e3)}})},l=r,u=(e("b604"),e("2877")),d=Object(u["a"])(l,n,s,!1,null,"1bbcfa44",null);a["default"]=d.exports},"8ad6":function(t,a,e){},9437:function(t,a,e){},ab6f:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE10lEQVR4Xu1b7XnUOBCeEQWwVHChggsVYPl/dpcKCBWQq4ClggsVXK4Cdjf/bVMBuQqACuAKOM0945UT2bGtD2uNzbP7K08sazSv9Y5Gr0YII/2SZH2GSDkA/CDCV0Wx/TqS6V4zONYgkmSdCFECAEqhLIptMZbtPjsnAMb6CqcZcKLAKQacguBpFRhhGUzT1V8AcOkW3OnDL7UMJsl6IQR9d3O+bPVvVAB4qeNe25Icl2UwSdbn+v07DyfumybJxVoI8ZH/QUT/cNbZ088PIrqJBoDpIIB6k2W3N6ZxGwBpenEJIHj6cqb4oii23iCk6fIaAN/69HEkAMoh1EDoA8B03mfwza8r5bJAxJc8tbNst3CZRdEAYGNNR0wQugDoe8fFAbNNmq5IT/9Peb4v6Wj7RQWgD4Q2AGI6X6cgvc+y/cbmPD+PDkAXCEo9+WrmAUL8d1Zx/jDQx3HDxYGqTZouNwD4TlPIebd5FADaQQAOitX6bP492Hm2Z/Afsmzn7JdzQ5+v8fBVHiJ79/vDvnzVr5Sr74iwICJn/h+NAvXA1AdCHOc5fxCCPh/s0ocs21+5frCjzoD+mRDHeU23KwDx54H/6lVR3G4nBcDjmBDPec3/LSKudAB8VhTbvgywhs0oM6CyODTV7fqqUq6+IMIZp795vi/TadffqAC4DsqnHavNQtCXkv1Ef+f53nEneLAyewDqyZQ/tdBv/+zzbcZvqxQ+9z1vYADK/PkX+H3Lst2Zrx8o5fI+gjrsoX37P3b7BSL+rvm/y/P92tcgNjj0R5bdXvt28rPamwIIgAoaO5oyEhHc5fnuxc9yyNduiADStFGuAiYNQgKJ78BjtQ8RQFoBmCsNQgSQVgDmSINQAaQVgDnSIFQA6QRgbjQIFUA6AZgbDUIFkE4A5kSDIQJILwBzoUGaXgQLIL0AzIUGjbzFSwDpBWAuNBgigFgBmDoNhgogVgCmToOhAogVgKnTQMrlDSK+5nHG2Le0SmJTpoGUq8+IwMJnkADiNAOmSoP6uChIAHECYKo0iCGAOAMwRRrEEECcAZgiDWIIIM4ATJEGMQQQLwAeV3DEErOG9uNeAWKz1HsypGnAFxue2joa83nM+wbWozGOvIjI521OVVfHAgIRee0vP4RPBYhtPFYAbB2M9TyWAOIVA8ZyzmYnpgAyCAApL1Y8FYnQqQbP5pjH84VOf3kHEHQC1GXLiQL6xtfHh0F4DP0ITYmg0DfPnCtBggHglQCReAPiffJ6BN/vu+RjPKLy9tkgEKwzwNTf+fSYSFxyIbPOEfggtYzMMbamlXem6MF1vwDqiouvORYgKt4OlyfCAMPzASsAlfzE20+l8NxEvJ4oDR9MBUD90KNe9WXmJr41gW0z0gqALf00nnvX53RRxBQ929b8WIcibN8FAObY07aj88by5FygbIsNjWOvR3cHDFHEuSw+OAiaEhQAbbJs/54708Exr1YG3wLFPhDqNz/qwS5Nl+8AsKwED6kK884DGgEJeCboqyjnXJurB+Jdn2ebBVIu7x7KX8qrL2zXyAfiBF4rBXigfbtCvTKsfauzbAAccg/F9Us64jff8C+JCwqC5tKEqDaIyIVIvPR9A6AbpcT10LW4C4xDxFdXAOVm7DdeEoloSyQ2sQD/HyBJprDRkDyVAAAAAElFTkSuQmCC"},b604:function(t,a,e){"use strict";var n=e("9437"),s=e.n(n);s.a},df6b:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{class:"header0"},[n("van-icon",{staticStyle:{"margin-left":"5px"},attrs:{name:"arrow-left"},on:{click:function(a){return t.$router.go(-1)}}}),t._t("default"),n("span",{on:{click:function(a){return t.$router.push("/home")}}},[n("img",{staticStyle:{float:"left",height:"1.2em",width:"1.2em"},attrs:{src:e("2fce")}})])],2)},s=[],o={name:"v-header",data:function(){return{}},props:{},methods:{},components:{},mounted:function(){},beforeDestroy:function(){}},i=o,c=(e("0613"),e("2877")),r=Object(c["a"])(i,n,s,!1,null,"03f1a737",null);a["a"]=r.exports}}]);